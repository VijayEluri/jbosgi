<?xml version="1.0" encoding="UTF-8"?>

<!--
  $Id$
-->

<deployment xmlns="urn:jboss:bean-deployer:2.0">

  <!-- 
    A bean that registers
    
      org.jboss.osgi.microcontainer.MicrocontainerService
   
    as OSGi services. Please see the JBoss OSGi userguide for details. 
  -->
  <bean name="jboss.osgi:service=Microcontainer" class="org.jboss.osgi.integration.jbossas.MicrocontainerServiceBean">
   <property name="bundleContext"><inject bean="jboss.osgi:service=Framework" property="bundleContext"/></property>
   <property name="mbeanServer"><inject bean="JMXKernel" property="mbeanServer"/></property>
   <property name="kernel"><inject bean="jboss.kernel:service=Kernel" /></property>
  </bean>

  <!-- Microcontainer Deployer Service -->
  <bean name="jboss.osgi:service=MicrocontainerDeployer" class="org.jboss.osgi.integration.jbossas.MicrocontainerDeployerServiceBean">
   <property name="bundleContext"><inject bean="jboss.osgi:service=Framework" property="bundleContext"/></property>
   <property name="mainDeployer"><inject bean="MainDeployer"/></property>
  </bean>

</deployment>
